#!/usr/bin/env lua

do

do
local _ENV = _ENV
package.preload[ "lib/Parser" ] = function( ... ) local arg = _G.arg;
local argparse = require "argparse"
local lfs = require "lfs"

local function trim_directory (path)
	path = path:gsub("\\", "/")
	return path:sub(1, path:find("/[^/]*$") - 1)
end

local function parse_cmd_arguments ()
	local cmd_parser = argparse("script", "A portable GNU Stow implementation in Lua.")
	cmd_parser:argument("source_dir", "Source directory.")
	cmd_parser:option("-t --target", "Target directory.", trim_directory(lfs.currentdir()))
	cmd_parser:flag("-D --delete", "Delete from luastow directory.")
	cmd_parser:flag("-R --restow", "Restow source directory (remove from target directory, then stow into target directory again.")
	cmd_parser:flag("-g --global", "Looks for `source_dir' in `/usr/local' (not available on Windows)")
	cmd_parser:flag("-v --verbose", "Prints debug messages.")
		:count "0-2"
		:target "verbosity"

	return cmd_parser:parse()
end

return {trim_directory = trim_directory,
        parse_cmd_arguments = parse_cmd_arguments}
end
end

do
local _ENV = _ENV
package.preload[ "lib/log" ] = function( ... ) local arg = _G.arg;
--
-- log.lua
--
-- Copyright (c) 2016 rxi
--
-- This library is free software; you can redistribute it and/or modify it
-- under the terms of the MIT license. See LICENSE for details.
--

local log = { _version = "0.1.0" }

log.usecolor = true
log.outfile = nil
log.level = "trace"


local modes = {
  { name = "trace", color = "\27[34m", },
  { name = "debug", color = "\27[36m", },
  { name = "info",  color = "\27[32m", },
  { name = "warn",  color = "\27[33m", },
  { name = "error", color = "\27[31m", },
  { name = "fatal", color = "\27[35m", },
}


local levels = {}
for i, v in ipairs(modes) do
  levels[v.name] = i
end


local round = function(x, increment)
  increment = increment or 1
  x = x / increment
  return (x > 0 and math.floor(x + .5) or math.ceil(x - .5)) * increment
end


local _tostring = tostring

local tostring = function(...)
  local t = {}
  for i = 1, select('#', ...) do
    local x = select(i, ...)
    if type(x) == "number" then
      x = round(x, .01)
    end
    t[#t + 1] = _tostring(x)
  end
  return table.concat(t, " ")
end


for i, x in ipairs(modes) do
  local nameupper = x.name:upper()
  log[x.name] = function(...)
    
    -- Return early if we're below the log level
    if i < levels[log.level] then
      return
    end

    local msg = tostring(...)
    local info = debug.getinfo(2, "Sl")
    local lineinfo = info.short_src .. ":" .. info.currentline

    -- Output to console
    print(string.format("%s[%-6s%s]%s %s: %s",
                        log.usecolor and x.color or "",
                        nameupper,
                        os.date("%H:%M:%S"),
                        log.usecolor and "\27[0m" or "",
                        lineinfo,
                        msg))

    -- Output to log file
    if log.outfile then
      local fp = io.open(log.outfile, "a")
      local str = string.format("[%-6s%s] %s: %s\n",
                                nameupper, os.date(), lineinfo, msg)
      fp:write(str)
      fp:close()
    end

  end
end


return log

end
end

do
local _ENV = _ENV
package.preload[ "lib/Stower" ] = function( ... ) local arg = _G.arg;
local log = require "lib/log"

local PATH_SEPARATOR = "/"
local LFS_FILE_EXISTS_ERROR = "File exists"

local function create_link (source_file, target_file)
	source_file = source_file:gsub("\\", "/")
	target_file = target_file:gsub("\\", "/")
	log.debug("Linking: " .. source_file .. " -> " .. target_file)

	local _, error_msg = lfs.link(target_file, source_file, true)
	if _ == nil and error_msg ~= LFS_FILE_EXISTS_ERROR then
		log.error(error_msg)
		os.exit(-1)
	end
end

local function create_dir (target_dir)
	if lfs.attributes(target_dir) == nil then
		log.debug("Creating directory: " .. target_dir)

		local _, error_msg = lfs.mkdir(target_dir)
		if _ == nil and error_msg ~= LFS_FILE_EXISTS_ERROR then
			log.error(error_msg)
			os.exit(-1)
		end
	else
		log.debug("Directory `" .. target_dir .. "' already exists! Skipping ...")
	end
end

local function delete_link (link_name)
	log.debug("Deleting link: " .. link_name)

	local _, error_msg = os.remove(link_name)
	if _ == nil then
		log.error(error_msg)
		os.exit(-1)
	end
end

local function check_link (filename, path)
	return filename:sub(1, 1) ~= "." and filename ~= ".."
	       and lfs.symlinkattributes(path .. "/" .. filename).mode == "link"
end

local function check_file (filename, path)
	return filename:sub(1, 1) ~= "." and filename ~= ".."
	       and lfs.attributes(path .. "/" .. filename).mode == "file"
end

local function check_dir (dir_name, path)
	return dir_name:sub(1, 1) ~= "." and dir_name ~= ".."
	       and lfs.attributes(path .. "/" .. dir_name).mode == "directory"
end


local function substitute_path (full_path, replaced_path, new_path)
	return new_path .. PATH_SEPARATOR .. full_path:sub(#replaced_path + 2)
end

local function iterate_dir (dir_name, name_table)
	local names = name_table or {}

	local full_path
	for name in lfs.dir(dir_name) do
		full_path = dir_name .. "/" .. name

		if check_link(name, dir_name) then
			names[#names + 1] = {full_path, "link"}
		elseif check_file(name, dir_name) then
			names[#names + 1] = {full_path, "f"}
		elseif check_dir(name, dir_name) then
			names[#names + 1] = {full_path, "d"}
			iterate_dir(full_path, names)
		end
	end

	return names
end


local function Stow (args)
	local stow_transactions = iterate_dir(args.source_dir)
	local dir_transactions = {}
	local name

	-- Put directories into dir_transactions
	for i=#stow_transactions, 1, -1 do
		name = stow_transactions[i]
		if name[#name] == "d" then
			table.insert(dir_transactions, 1, table.remove(stow_transactions, i))
		end
	end

	-- Check that no file already exists in target directory
	for i=1, #stow_transactions do
		name = stow_transactions[i]
		-- local target_file = args.target .. PATH_SEPARATOR .. name[1]:sub(#args.source_dir + 2)
		local target_file = substitute_path(name[1], args.source_dir, args.target)
		if lfs.attributes(target_file) ~= nil then
			log.error("File " .. target_file .. " already exists in target directory! Aborting all operations ...")
			os.exit(-1)
		end
	end

	-- Create directories
	for i=1, #dir_transactions do
		name = dir_transactions[i]
		create_dir(substitute_path(name[1], args.source_dir, args.target))
	end

	-- Create links
	for i=1, #stow_transactions do
		name = stow_transactions[i]
		create_link(substitute_path(name[1], args.source_dir, args.target), name[1])
	end
end

local function Delete (args)
	local delete_transactions = iterate_dir(args.source_dir)
	local name

	-- Remove directories
	for i=#delete_transactions, 1, -1 do
		name = delete_transactions[i]
		if name[#name] == "d" then
			table.remove(delete_transactions, i)
		end
	end

	-- Check that file really exists in target location
	for i=1, #delete_transactions do
		name = delete_transactions[i]
		local target_link = substitute_path(name[1], args.source_dir, args.target)
		if lfs.attributes(target_link) == nil
		and lfs.symlinkattributes(target_link) == nil then
			log.error("Link " .. target_link .. " doesn't seem to exist in target directory! Aborting all operations ...")
			os.exit(-1)
		end
	end

	-- Delete links
	for i=1, #delete_transactions do
		name = delete_transactions[i]
		delete_link(substitute_path(name[1], args.source_dir, args.target))
	end
end

return {Stow = Stow,
        Delete = Delete}
end
end

do
local _ENV = _ENV
package.preload[ "argparse" ] = function( ... ) local arg = _G.arg;
-- The MIT License (MIT)

-- Copyright (c) 2013 - 2015 Peter Melnichenko

-- Permission is hereby granted, free of charge, to any person obtaining a copy of
-- this software and associated documentation files (the "Software"), to deal in
-- the Software without restriction, including without limitation the rights to
-- use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
-- the Software, and to permit persons to whom the Software is furnished to do so,
-- subject to the following conditions:

-- The above copyright notice and this permission notice shall be included in all
-- copies or substantial portions of the Software.

-- THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
-- IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
-- FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
-- COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
-- IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
-- CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

local function deep_update(t1, t2)
   for k, v in pairs(t2) do
      if type(v) == "table" then
         v = deep_update({}, v)
      end

      t1[k] = v
   end

   return t1
end

-- A property is a tuple {name, callback}.
-- properties.args is number of properties that can be set as arguments
-- when calling an object.
local function class(prototype, properties, parent)
   -- Class is the metatable of its instances.
   local cl = {}
   cl.__index = cl

   if parent then
      cl.__prototype = deep_update(deep_update({}, parent.__prototype), prototype)
   else
      cl.__prototype = prototype
   end

   if properties then
      local names = {}

      -- Create setter methods and fill set of property names. 
      for _, property in ipairs(properties) do
         local name, callback = property[1], property[2]

         cl[name] = function(self, value)
            if not callback(self, value) then
               self["_" .. name] = value
            end

            return self
         end

         names[name] = true
      end

      function cl.__call(self, ...)
         -- When calling an object, if the first argument is a table,
         -- interpret keys as property names, else delegate arguments
         -- to corresponding setters in order.
         if type((...)) == "table" then
            for name, value in pairs((...)) do
               if names[name] then
                  self[name](self, value)
               end
            end
         else
            local nargs = select("#", ...)

            for i, property in ipairs(properties) do
               if i > nargs or i > properties.args then
                  break
               end

               local arg = select(i, ...)

               if arg ~= nil then
                  self[property[1]](self, arg)
               end
            end
         end

         return self
      end
   end

   -- If indexing class fails, fallback to its parent.
   local class_metatable = {}
   class_metatable.__index = parent

   function class_metatable.__call(self, ...)
      -- Calling a class returns its instance.
      -- Arguments are delegated to the instance.
      local object = deep_update({}, self.__prototype)
      setmetatable(object, self)
      return object(...)
   end

   return setmetatable(cl, class_metatable)
end

local function typecheck(name, types, value)
   for _, type_ in ipairs(types) do
      if type(value) == type_ then
         return true
      end
   end

   error(("bad property '%s' (%s expected, got %s)"):format(name, table.concat(types, " or "), type(value)))
end

local function typechecked(name, ...)
   local types = {...}
   return {name, function(_, value) typecheck(name, types, value) end}
end

local multiname = {"name", function(self, value)
   typecheck("name", {"string"}, value)

   for alias in value:gmatch("%S+") do
      self._name = self._name or alias
      table.insert(self._aliases, alias)
   end

   -- Do not set _name as with other properties.
   return true
end}

local function parse_boundaries(str)
   if tonumber(str) then
      return tonumber(str), tonumber(str)
   end

   if str == "*" then
      return 0, math.huge
   end

   if str == "+" then
      return 1, math.huge
   end

   if str == "?" then
      return 0, 1
   end

   if str:match "^%d+%-%d+$" then
      local min, max = str:match "^(%d+)%-(%d+)$"
      return tonumber(min), tonumber(max)
   end

   if str:match "^%d+%+$" then
      local min = str:match "^(%d+)%+$"
      return tonumber(min), math.huge
   end
end

local function boundaries(name)
   return {name, function(self, value)
      typecheck(name, {"number", "string"}, value)

      local min, max = parse_boundaries(value)

      if not min then
         error(("bad property '%s'"):format(name))
      end

      self["_min" .. name], self["_max" .. name] = min, max
   end}
end

local actions = {}

local option_action = {"action", function(_, value)
   typecheck("action", {"function", "string"}, value)

   if type(value) == "string" and not actions[value] then
      error(("unknown action '%s'"):format(value))
   end
end}

local option_init = {"init", function(self)
   self._has_init = true
end}

local option_default = {"default", function(self, value)
   if type(value) ~= "string" then
      self._init = value
      self._has_init = true
      return true
   end
end}

local add_help = {"add_help", function(self, value)
   typecheck("add_help", {"boolean", "string", "table"}, value)

   if self._has_help then
      table.remove(self._options)
      self._has_help = false
   end

   if value then
      local help = self:flag()
         :description "Show this help message and exit."
         :action(function()
            print(self:get_help())
            os.exit(0)
         end)

      if value ~= true then
         help = help(value)
      end

      if not help._name then
         help "-h" "--help"
      end

      self._has_help = true
   end
end}

local Parser = class({
   _arguments = {},
   _options = {},
   _commands = {},
   _mutexes = {},
   _require_command = true,
   _handle_options = true
}, {
   args = 3,
   typechecked("name", "string"),
   typechecked("description", "string"),
   typechecked("epilog", "string"),
   typechecked("usage", "string"),
   typechecked("help", "string"),
   typechecked("require_command", "boolean"),
   typechecked("handle_options", "boolean"),
   typechecked("action", "function"),
   typechecked("command_target", "string"),
   add_help
})

local Command = class({
   _aliases = {}
}, {
   args = 3,
   multiname,
   typechecked("description", "string"),
   typechecked("epilog", "string"),
   typechecked("target", "string"),
   typechecked("usage", "string"),
   typechecked("help", "string"),
   typechecked("require_command", "boolean"),
   typechecked("handle_options", "boolean"),
   typechecked("action", "function"),
   typechecked("command_target", "string"),
   add_help
}, Parser)

local Argument = class({
   _minargs = 1,
   _maxargs = 1,
   _mincount = 1,
   _maxcount = 1,
   _defmode = "unused",
   _show_default = true
}, {
   args = 5,
   typechecked("name", "string"),
   typechecked("description", "string"),
   option_default,
   typechecked("convert", "function", "table"),
   boundaries("args"),
   typechecked("target", "string"),
   typechecked("defmode", "string"),
   typechecked("show_default", "boolean"),
   typechecked("argname", "string", "table"),
   option_action,
   option_init
})

local Option = class({
   _aliases = {},
   _mincount = 0,
   _overwrite = true
}, {
   args = 6,
   multiname,
   typechecked("description", "string"),
   option_default,
   typechecked("convert", "function", "table"),
   boundaries("args"),
   boundaries("count"),
   typechecked("target", "string"),
   typechecked("defmode", "string"),
   typechecked("show_default", "boolean"),
   typechecked("overwrite", "boolean"),
   typechecked("argname", "string", "table"),
   option_action,
   option_init
}, Argument)

function Argument:_get_argument_list()
   local buf = {}
   local i = 1

   while i <= math.min(self._minargs, 3) do
      local argname = self:_get_argname(i)

      if self._default and self._defmode:find "a" then
         argname = "[" .. argname .. "]"
      end

      table.insert(buf, argname)
      i = i+1
   end

   while i <= math.min(self._maxargs, 3) do
      table.insert(buf, "[" .. self:_get_argname(i) .. "]")
      i = i+1

      if self._maxargs == math.huge then
         break
      end
   end

   if i < self._maxargs then
      table.insert(buf, "...")
   end

   return buf
end

function Argument:_get_usage()
   local usage = table.concat(self:_get_argument_list(), " ")

   if self._default and self._defmode:find "u" then
      if self._maxargs > 1 or (self._minargs == 1 and not self._defmode:find "a") then
         usage = "[" .. usage .. "]"
      end
   end

   return usage
end

function actions.store_true(result, target)
   result[target] = true
end

function actions.store_false(result, target)
   result[target] = false
end

function actions.store(result, target, argument)
   result[target] = argument
end

function actions.count(result, target, _, overwrite)
   if not overwrite then
      result[target] = result[target] + 1
   end
end

function actions.append(result, target, argument, overwrite)
   result[target] = result[target] or {}
   table.insert(result[target], argument)

   if overwrite then
      table.remove(result[target], 1)
   end
end

function actions.concat(result, target, arguments, overwrite)
   if overwrite then
      error("'concat' action can't handle too many invocations")
   end

   result[target] = result[target] or {}

   for _, argument in ipairs(arguments) do
      table.insert(result[target], argument)
   end
end

function Argument:_get_action()
   local action, init

   if self._maxcount == 1 then
      if self._maxargs == 0 then
         action, init = "store_true", nil
      else
         action, init = "store", nil
      end
   else
      if self._maxargs == 0 then
         action, init = "count", 0
      else
         action, init = "append", {}
      end
   end

   if self._action then
      action = self._action
   end

   if self._has_init then
      init = self._init
   end

   if type(action) == "string" then
      action = actions[action]
   end

   return action, init
end

-- Returns placeholder for `narg`-th argument. 
function Argument:_get_argname(narg)
   local argname = self._argname or self:_get_default_argname()

   if type(argname) == "table" then
      return argname[narg]
   else
      return argname
   end
end

function Argument:_get_default_argname()
   return "<" .. self._name .. ">"
end

function Option:_get_default_argname()
   return "<" .. self:_get_default_target() .. ">"
end

-- Returns label to be shown in the help message. 
function Argument:_get_label()
   return self._name
end

function Option:_get_label()
   local variants = {}
   local argument_list = self:_get_argument_list()
   table.insert(argument_list, 1, nil)

   for _, alias in ipairs(self._aliases) do
      argument_list[1] = alias
      table.insert(variants, table.concat(argument_list, " "))
   end

   return table.concat(variants, ", ")
end

function Command:_get_label()
   return table.concat(self._aliases, ", ")
end

function Argument:_get_description()
   if self._default and self._show_default then
      if self._description then
         return ("%s (default: %s)"):format(self._description, self._default)
      else
         return ("default: %s"):format(self._default)
      end
   else
      return self._description or ""
   end
end

function Command:_get_description()
   return self._description or ""
end

function Option:_get_usage()
   local usage = self:_get_argument_list()
   table.insert(usage, 1, self._name)
   usage = table.concat(usage, " ")

   if self._mincount == 0 or self._default then
      usage = "[" .. usage .. "]"
   end

   return usage
end

function Argument:_get_default_target()
   return self._name
end

function Option:_get_default_target()
   local res

   for _, alias in ipairs(self._aliases) do
      if alias:sub(1, 1) == alias:sub(2, 2) then
         res = alias:sub(3)
         break
      end
   end

   res = res or self._name:sub(2)
   return (res:gsub("-", "_"))
end

function Option:_is_vararg()
   return self._maxargs ~= self._minargs
end

function Parser:_get_fullname()
   local parent = self._parent
   local buf = {self._name}

   while parent do
      table.insert(buf, 1, parent._name)
      parent = parent._parent
   end

   return table.concat(buf, " ")
end

function Parser:_update_charset(charset)
   charset = charset or {}

   for _, command in ipairs(self._commands) do
      command:_update_charset(charset)
   end

   for _, option in ipairs(self._options) do
      for _, alias in ipairs(option._aliases) do
         charset[alias:sub(1, 1)] = true
      end
   end

   return charset
end

function Parser:argument(...)
   local argument = Argument(...)
   table.insert(self._arguments, argument)
   return argument
end

function Parser:option(...)
   local option = Option(...)

   if self._has_help then
      table.insert(self._options, #self._options, option)
   else
      table.insert(self._options, option)
   end

   return option
end

function Parser:flag(...)
   return self:option():args(0)(...)
end

function Parser:command(...)
   local command = Command():add_help(true)(...)
   command._parent = self
   table.insert(self._commands, command)
   return command
end

function Parser:mutex(...)
   local options = {...}

   for i, option in ipairs(options) do
      assert(getmetatable(option) == Option, ("bad argument #%d to 'mutex' (Option expected)"):format(i))
   end

   table.insert(self._mutexes, options)
   return self
end

local max_usage_width = 70
local usage_welcome = "Usage: "

function Parser:get_usage()
   if self._usage then
      return self._usage
   end

   local lines = {usage_welcome .. self:_get_fullname()}

   local function add(s)
      if #lines[#lines]+1+#s <= max_usage_width then
         lines[#lines] = lines[#lines] .. " " .. s
      else
         lines[#lines+1] = (" "):rep(#usage_welcome) .. s
      end
   end

   -- This can definitely be refactored into something cleaner
   local mutex_options = {}
   local vararg_mutexes = {}

   -- First, put mutexes which do not contain vararg options and remember those which do
   for _, mutex in ipairs(self._mutexes) do
      local buf = {}
      local is_vararg = false

      for _, option in ipairs(mutex) do
         if option:_is_vararg() then
            is_vararg = true
         end

         table.insert(buf, option:_get_usage())
         mutex_options[option] = true
      end

      local repr = "(" .. table.concat(buf, " | ") .. ")"

      if is_vararg then
         table.insert(vararg_mutexes, repr)
      else
         add(repr)
      end
   end

   -- Second, put regular options
   for _, option in ipairs(self._options) do
      if not mutex_options[option] and not option:_is_vararg() then
         add(option:_get_usage())
      end
   end

   -- Put positional arguments
   for _, argument in ipairs(self._arguments) do
      add(argument:_get_usage())
   end

   -- Put mutexes containing vararg options
   for _, mutex_repr in ipairs(vararg_mutexes) do
      add(mutex_repr)
   end

   for _, option in ipairs(self._options) do
      if not mutex_options[option] and option:_is_vararg() then
         add(option:_get_usage())
      end
   end

   if #self._commands > 0 then
      if self._require_command then
         add("<command>")
      else
         add("[<command>]")
      end

      add("...")
   end

   return table.concat(lines, "\n")
end

local margin_len = 3
local margin_len2 = 25
local margin = (" "):rep(margin_len)
local margin2 = (" "):rep(margin_len2)

local function make_two_columns(s1, s2)
   if s2 == "" then
      return margin .. s1
   end

   s2 = s2:gsub("\n", "\n" .. margin2)

   if #s1 < (margin_len2-margin_len) then
      return margin .. s1 .. (" "):rep(margin_len2-margin_len-#s1) .. s2
   else
      return margin .. s1 .. "\n" .. margin2 .. s2
   end
end

function Parser:get_help()
   if self._help then
      return self._help
   end

   local blocks = {self:get_usage()}
   
   if self._description then
      table.insert(blocks, self._description)
   end

   local labels = {"Arguments:", "Options:", "Commands:"}

   for i, elements in ipairs{self._arguments, self._options, self._commands} do
      if #elements > 0 then
         local buf = {labels[i]}

         for _, element in ipairs(elements) do
            table.insert(buf, make_two_columns(element:_get_label(), element:_get_description()))
         end

         table.insert(blocks, table.concat(buf, "\n"))
      end
   end

   if self._epilog then
      table.insert(blocks, self._epilog)
   end

   return table.concat(blocks, "\n\n")
end

local function get_tip(context, wrong_name)
   local context_pool = {}
   local possible_name
   local possible_names = {}

   for name in pairs(context) do
      if type(name) == "string" then
         for i = 1, #name do
            possible_name = name:sub(1, i - 1) .. name:sub(i + 1)

            if not context_pool[possible_name] then
               context_pool[possible_name] = {}
            end

            table.insert(context_pool[possible_name], name)
         end
      end
   end

   for i = 1, #wrong_name + 1 do
      possible_name = wrong_name:sub(1, i - 1) .. wrong_name:sub(i + 1)

      if context[possible_name] then
         possible_names[possible_name] = true
      elseif context_pool[possible_name] then
         for _, name in ipairs(context_pool[possible_name]) do
            possible_names[name] = true
         end
      end
   end

   local first = next(possible_names)

   if first then
      if next(possible_names, first) then
         local possible_names_arr = {}

         for name in pairs(possible_names) do
            table.insert(possible_names_arr, "'" .. name .. "'")
         end

         table.sort(possible_names_arr)
         return "\nDid you mean one of these: " .. table.concat(possible_names_arr, " ") .. "?"
      else
         return "\nDid you mean '" .. first .. "'?"
      end
   else
      return ""
   end
end

local ElementState = class({
   invocations = 0
})

function ElementState:__call(state, element)
   self.state = state
   self.result = state.result
   self.element = element
   self.target = element._target or element:_get_default_target()
   self.action, self.result[self.target] = element:_get_action()
   return self
end

function ElementState:error(fmt, ...)
   self.state:error(fmt, ...)
end

function ElementState:convert(argument)
   local converter = self.element._convert

   if converter then
      local ok, err

      if type(converter) == "function" then
         ok, err = converter(argument)
      else
         ok = converter[argument]
      end

      if ok == nil then
         self:error(err and "%s" or "malformed argument '%s'", err or argument)
      end

      argument = ok
   end

   return argument
end

function ElementState:default(mode)
   return self.element._defmode:find(mode) and self.element._default
end

local function bound(noun, min, max, is_max)
   local res = ""

   if min ~= max then
      res = "at " .. (is_max and "most" or "least") .. " "
   end

   local number = is_max and max or min
   return res .. tostring(number) .. " " .. noun ..  (number == 1 and "" or "s")
end

function ElementState:invoke(alias)
   self.open = true
   self.name = ("%s '%s'"):format(alias and "option" or "argument", alias or self.element._name)
   self.overwrite = false

   if self.invocations >= self.element._maxcount then
      if self.element._overwrite then
         self.overwrite = true
      else
         self:error("%s must be used %s", self.name, bound("time", self.element._mincount, self.element._maxcount, true))
      end
   else
      self.invocations = self.invocations + 1
   end

   self.args = {}

   if self.element._maxargs <= 0 then
      self:close()
   end

   return self.open
end

function ElementState:pass(argument)
   argument = self:convert(argument)
   table.insert(self.args, argument)

   if #self.args >= self.element._maxargs then
      self:close()
   end

   return self.open
end

function ElementState:complete_invocation()
   while #self.args < self.element._minargs do
      self:pass(self.element._default)
   end
end

function ElementState:close()
   if self.open then
      self.open = false

      if #self.args < self.element._minargs then
         if self:default("a") then
            self:complete_invocation()
         else
            if #self.args == 0 then
               if getmetatable(self.element) == Argument then
                  self:error("missing %s", self.name)
               elseif self.element._maxargs == 1 then
                  self:error("%s requires an argument", self.name)
               end
            end

            self:error("%s requires %s", self.name, bound("argument", self.element._minargs, self.element._maxargs))
         end
      end

      local args = self.args

      if self.element._maxargs <= 1 then
         args = args[1]
      end

      if self.element._maxargs == 1 and self.element._minargs == 0 and self.element._mincount ~= self.element._maxcount then
         args = self.args
      end

      self.action(self.result, self.target, args, self.overwrite)
   end
end

local ParseState = class({
   result = {},
   options = {},
   arguments = {},
   argument_i = 1,
   element_to_mutexes = {},
   mutex_to_used_option = {},
   command_actions = {}
})

function ParseState:__call(parser, error_handler)
   self.parser = parser
   self.error_handler = error_handler
   self.charset = parser:_update_charset()
   self:switch(parser)
   return self
end

function ParseState:error(fmt, ...)
   self.error_handler(self.parser, fmt:format(...))
end

function ParseState:switch(parser)
   self.parser = parser

   if parser._action then
      table.insert(self.command_actions, {action = parser._action, name = parser._name})
   end

   for _, option in ipairs(parser._options) do
      option = ElementState(self, option)
      table.insert(self.options, option)

      for _, alias in ipairs(option.element._aliases) do
         self.options[alias] = option
      end
   end

   for _, mutex in ipairs(parser._mutexes) do
      for _, option in ipairs(mutex) do
         if not self.element_to_mutexes[option] then
            self.element_to_mutexes[option] = {}
         end

         table.insert(self.element_to_mutexes[option], mutex)
      end
   end

   for _, argument in ipairs(parser._arguments) do
      argument = ElementState(self, argument)
      table.insert(self.arguments, argument)
      argument:invoke()
   end

   self.handle_options = parser._handle_options
   self.argument = self.arguments[self.argument_i]
   self.commands = parser._commands

   for _, command in ipairs(self.commands) do
      for _, alias in ipairs(command._aliases) do
         self.commands[alias] = command
      end
   end
end

function ParseState:get_option(name)
   local option = self.options[name]

   if not option then
      self:error("unknown option '%s'%s", name, get_tip(self.options, name))
   else
      return option
   end
end

function ParseState:get_command(name)
   local command = self.commands[name]

   if not command then
      if #self.commands > 0 then
         self:error("unknown command '%s'%s", name, get_tip(self.commands, name))
      else
         self:error("too many arguments")
      end
   else
      return command
   end
end

function ParseState:invoke(option, name)
   self:close()

   if self.element_to_mutexes[option.element] then
      for _, mutex in ipairs(self.element_to_mutexes[option.element]) do
         local used_option = self.mutex_to_used_option[mutex]

         if used_option and used_option ~= option then
            self:error("option '%s' can not be used together with %s", name, used_option.name)
         else
            self.mutex_to_used_option[mutex] = option
         end
      end
   end

   if option:invoke(name) then
      self.option = option
   end
end

function ParseState:pass(arg)
   if self.option then
      if not self.option:pass(arg) then
         self.option = nil
      end
   elseif self.argument then
      if not self.argument:pass(arg) then
         self.argument_i = self.argument_i + 1
         self.argument = self.arguments[self.argument_i]
      end
   else
      local command = self:get_command(arg)
      self.result[command._target or command._name] = true

      if self.parser._command_target then
         self.result[self.parser._command_target] = command._name
      end

      self:switch(command)
   end
end

function ParseState:close()
   if self.option then
      self.option:close()
      self.option = nil
   end
end

function ParseState:finalize()
   self:close()

   for i = self.argument_i, #self.arguments do
      local argument = self.arguments[i]
      if #argument.args == 0 and argument:default("u") then
         argument:complete_invocation()
      else
         argument:close()
      end
   end

   if self.parser._require_command and #self.commands > 0 then
      self:error("a command is required")
   end

   for _, option in ipairs(self.options) do
      local name = option.name or ("option '%s'"):format(option.element._name)

      if option.invocations == 0 then
         if option:default("u") then
            option:invoke(name)
            option:complete_invocation()
            option:close()
         end
      end

      local mincount = option.element._mincount

      if option.invocations < mincount then
         if option:default("a") then
            while option.invocations < mincount do
               option:invoke(name)
               option:close()
            end
         elseif option.invocations == 0 then
            self:error("missing %s", name)
         else
            self:error("%s must be used %s", name, bound("time", mincount, option.element._maxcount))
         end
      end
   end

   for i = #self.command_actions, 1, -1 do
      self.command_actions[i].action(self.result, self.command_actions[i].name)
   end
end

function ParseState:parse(args)
   for _, arg in ipairs(args) do
      local plain = true

      if self.handle_options then
         local first = arg:sub(1, 1)

         if self.charset[first] then
            if #arg > 1 then
               plain = false

               if arg:sub(2, 2) == first then
                  if #arg == 2 then
                     self:close()
                     self.handle_options = false
                  else
                     local equals = arg:find "="
                     if equals then
                        local name = arg:sub(1, equals - 1)
                        local option = self:get_option(name)

                        if option.element._maxargs <= 0 then
                           self:error("option '%s' does not take arguments", name)
                        end

                        self:invoke(option, name)
                        self:pass(arg:sub(equals + 1))
                     else
                        local option = self:get_option(arg)
                        self:invoke(option, arg)
                     end
                  end
               else
                  for i = 2, #arg do
                     local name = first .. arg:sub(i, i)
                     local option = self:get_option(name)
                     self:invoke(option, name)

                     if i ~= #arg and option.element._maxargs > 0 then
                        self:pass(arg:sub(i + 1))
                        break
                     end
                  end
               end
            end
         end
      end

      if plain then
         self:pass(arg)
      end
   end

   self:finalize()
   return self.result
end

function Parser:error(msg)
   io.stderr:write(("%s\n\nError: %s\n"):format(self:get_usage(), msg))
   os.exit(1)
end

-- Compatibility with strict.lua and other checkers:
local default_cmdline = rawget(_G, "arg") or {}

function Parser:_parse(args, error_handler)
   return ParseState(self, error_handler):parse(args or default_cmdline)
end

function Parser:parse(args)
   return self:_parse(args, self.error)
end

local function xpcall_error_handler(err)
   return tostring(err) .. "\noriginal " .. debug.traceback("", 2):sub(2)
end

function Parser:pparse(args)
   local parse_error

   local ok, result = xpcall(function()
      return self:_parse(args, function(_, err)
         parse_error = err
         error(err, 0)
      end)
   end, xpcall_error_handler)

   if ok then
      return true, result
   elseif not parse_error then
      error(result, 0)
   else
      return false, parse_error
   end
end

return function(...)
   return Parser(default_cmdline[0]):add_help(true)(...)
end

end
end

local assert = assert
local newproxy = newproxy
local getmetatable = assert( getmetatable )
local setmetatable = assert( setmetatable )
local os_tmpname = assert( os.tmpname )
local os_getenv = assert( os.getenv )
local os_remove = assert( os.remove )
local io_open = assert( io.open )
local string_match = assert( string.match )
local string_sub = assert( string.sub )
local package_loadlib = assert( package.loadlib )

local dirsep = package.config:match( "^([^\n]+)" )
local tmpdir
local function newdllname()
  local tmpname = assert( os_tmpname() )
  if dirsep == "\\" then
    if not string_match( tmpname, "[\\/][^\\/]+[\\/]" ) then
      tmpdir = tmpdir or assert( os_getenv( "TMP" ),
                                 "could not detect temp directory" )
      local first = string_sub( tmpname, 1, 1 )
      local hassep = first == "\\" or first == "/"
      tmpname = tmpdir..((hassep) and "" or "\\")..tmpname
    end
  end
  return tmpname
end
local dllnames = {}

dllnames[ "/usr/local/stow/luarocks-2.4.2/lib/lua/5.3/lfs.so" ] = function()
  local dll = newdllname()
  local f = assert( io_open( dll, "wb" ) )
  f:write( "Ïúíş\7\0\0\1\3\0\0\0\8\0\0\0\11\0\0\0¸\5\0\0…\0\0\0\0\0\0\0\25\0\0\0x\2\0\0__TEXT\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0000\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0000\0\0\0\0\0\0\7\0\0\0\5\0\0\0\7\0\0\0\0\0\0\0__text\0\0\0\0\0\0\0\0\0\0__TEXT\0\0\0\0\0\0\0\0\0\0 \16\0\0\0\0\0\0q\17\0\0\0\0\0\0 \16\0\0\4\0\0\0\0\0\0\0\0\0\0\0\0\4\0€\0\0\0\0\0\0\0\0\0\0\0\0__stubs\0\0\0\0\0\0\0\0\0__TEXT\0\0\0\0\0\0\0\0\0\0\18\"\0\0\0\0\0\0>\1\0\0\0\0\0\0\18\"\0\0\1\0\0\0\0\0\0\0\0\0\0\0\8\4\0€\0\0\0\0\6\0\0\0\0\0\0\0__stub_helper\0\0\0__TEXT\0\0\0\0\0\0\0\0\0\0P#\0\0\0\0\0\0|\2\0\0\0\0\0\0P#\0\0\2\0\0\0\0\0\0\0\0\0\0\0\0\4\0€\0\0\0\0\0\0\0\0\0\0\0\0__const\0\0\0\0\0\0\0\0\0__TEXT\0\0\0\0\0\0\0\0\0\0Ğ%\0\0\0\0\0\0\8\0\0\0\0\0\0\0Ğ%\0\0\3\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0__cstring\0\0\0\0\0\0\0__TEXT\0\0\0\0\0\0\0\0\0\0Ø%\0\0\0\0\0\0)\3\0\0\0\0\0\0Ø%\0\0\0\0\0\0\0\0\0\0\0\0\0\0\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0__unwind_info\0\0\0__TEXT\0\0\0\0\0\0\0\0\0\0\4)\0\0\0\0\0\0¨\0\0\0\0\0\0\0\4)\0\0\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0__eh_frame\0\0\0\0\0\0__TEXT\0\0\0\0\0\0\0\0\0\0°)\0\0\0\0\0\0P\6\0\0\0\0\0\0°)\0\0\3\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\25\0\0\0Ø\1\0\0__DATA\0\0\0\0\0\0\0\0\0\0\0000\0\0\0\0\0\0\0\16\0\0\0\0\0\0\0000\0\0\0\0\0\0\0\16\0\0\0\0\0\0\7\0\0\0\3\0\0\0\5\0\0\0\0\0\0\0__dyld\0\0\0\0\0\0\0\0\0\0__DATA\0\0\0\0\0\0\0\0\0\0\0000\0\0\0\0\0\0\16\0\0\0\0\0\0\0\0000\0\0\3\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0__got\0\0\0\0\0\0\0\0\0\0\0__DATA\0\0\0\0\0\0\0\0\0\0\0160\0\0\0\0\0\0(\0\0\0\0\0\0\0\0160\0\0\3\0\0\0\0\0\0\0\0\0\0\0\6\0\0\0005\0\0\0\0\0\0\0\0\0\0\0__la_symbol_ptr\0__DATA\0\0\0\0\0\0\0\0\0\00080\0\0\0\0\0\0¨\1\0\0\0\0\0\00080\0\0\3\0\0\0\0\0\0\0\0\0\0\0\7\0\0\0:\0\0\0\0\0\0\0\0\0\0\0__const\0\0\0\0\0\0\0\0\0__DATA\0\0\0\0\0\0\0\0\0\0à1\0\0\0\0\0\0ø\0\0\0\0\0\0\0à1\0\0\4\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0__data\0\0\0\0\0\0\0\0\0\0__DATA\0\0\0\0\0\0\0\0\0\0à2\0\0\0\0\0\0ú\0\0\0\0\0\0\0à2\0\0\4\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\25\0\0\0H\0\0\0__LINKEDIT\0\0\0\0\0\0\0@\0\0\0\0\0\0\0 \0\0\0\0\0\0\0@\0\0\0\0\0\0¬\16\0\0\0\0\0\0\7\0\0\0\1\0\0\0\0\0\0\0\0\0\0\0\2\0\0\0\24\0\0\0 C\0\0c\0\0\0ŒK\0\0 \5\0\0\11\0\0\0P\0\0\0\0\0\0\0(\0\0\0(\0\0\0\2\0\0\0*\0\0\0009\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0ĞI\0\0o\0\0\0\0\0\0\0\0\0\0\0\0@\0\0m\0\0\0\27\0\0\0\24\0\0\0\9C§ªIŠ>ªš\25Ó†Î\9:$\0\0\0\16\0\0\0\0\5\
\0\0\9\
\0\12\0\0\0008\0\0\0\24\0\0\0\2\0\0\0\1\1­\4\0\0\1\0/usr/lib/libSystem.B.dylib\0\0\0\0\0\0\12\0\0\0008\0\0\0\24\0\0\0\2\0\0\0\0\0\17\
\0\0\1\0/usr/lib/libgcc_s.1.dylib\0\0\0\0\0\0\0&\0\0\0\16\0\0\0hC\0\0008\0\0\0)\0\0\0\16\0\0\0 C\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0ASL\29WïÿÿASÿ%O\31\0\0\15\31\0ÿ%N\31\0\0UH‰å\15·F\8%\0ğ\0\0=ÿ¿\0\0\1270=ÿŸ\0\0\127==ÿ\127\0\0\127J=ÿ_\0\0\127W=\0\16\0\0td=\0 \0\0ujH5Ï\23\0\0]é†\17\0\0=\0À\0\0ujH5©\23\0\0]ér\17\0\0=\0 \0\0uVH5\26\22\0\0]é^\17\0\0=\0€\0\0uBH5r\23\0\0]éJ\17\0\0=\0`\0\0u.H5‹\23\0\0]é6\17\0\0H5g\23\0\0]é)\17\0\0=\0@\0\0u\13H5B\23\0\0]é\21\17\0\0H5j\23\0\0]é\8\17\0\0fffff.\15\31„\0\0\0\0\0UH‰åHc6]éá\16\0\0\15\31\0UH‰å‹v\4]éÑ\16\0\0\15\31\0UH‰å\15·v\
]éÀ\16\0\0fUH‰å‹v\12]é±\16\0\0\15\31\0UH‰å‹v\16]é¡\16\0\0\15\31\0UH‰åHcv\20]é\16\0\0fUH‰åH‹v\24]é€\16\0\0fUH‰åH‹v(]ép\16\0\0fUH‰åH‹v8]é`\16\0\0fUH‰åH‹vH]éP\16\0\0fUH‰å\15·F\8H¹--------H‰\13‡!\0\0Æ\5ˆ!\0\0-öÄ\1t\7Æ\5t!\0\0r¨€t\7Æ\5j!\0\0w¨@t\7Æ\5`!\0\0x¨ t\7Æ\5V!\0\0r¨\16t\7Æ\5L!\0\0w¨\8t\7Æ\5B!\0\0x¨\4t\7Æ\0058!\0\0r¨\2t\7Æ\5.!\0\0w¨\1t\7Æ\5$!\0\0xH5\21!\0\0]éÉ\15\0\0ffffff.\15\31„\0\0\0\0\0UH‰åH‹vP]é \15\0\0fUH‰åHcvX]é\15\0\0fUH‰åAWAVATSH‰ûH5#\21\0\0è,\15\0\0001ö1ÒH‰ßè8\15\0\0H5“\11\0\0001ÒH‰ßèK\15\0\0H\21s\21\0\0¾şÿÿÿH‰ßèa\15\0\0L=.\12\0\0001ÒH‰ßL‰şè#\15\0\0H\21P\21\0\0¾şÿÿÿH‰ßè9\15\0\0L5*\21\0\0¾şÿÿÿH‰ßL‰òè\"\15\0\0001ÒH‰ßL‰şèë\14\0\0L=\14\21\0\0¾şÿÿÿH‰ßL‰úèş\14\0\0H5ï\19\0\0H‰ßè‰\14\0\0001ö1ÒH‰ßè•\14\0\0L%p\11\0\0001ÒH‰ßL‰æè¥\14\0\0H\21»\20\0\0¾şÿÿÿH‰ßè»\14\0\0¾şÿÿÿH‰ßL‰òè«\14\0\0001ÒH‰ßL‰æèt\14\0\0¾şÿÿÿH‰ßL‰úè\14\0\0ò\15\16\5º\17\0\0¾ˆ\0\0\0H‰ßè\7\14\0\0001öº\13\0\0\0H‰ßè\28\14\0\0H5§\29\0\0001ÒH‰ßè\5\14\0\0¾ÿÿÿÿH‰ßè@\14\0\0H5Ü\17\0\0H‰ßèC\14\0\0H5Ñ\17\0\0H‰ßè\28\14\0\0H5Í\17\0\0H‰ßè\13\14\0\0¾ıÿÿÿH‰ßè$\14\0\0H5Ø\17\0\0H‰ßèñ\13\0\0H5Ö\17\0\0H‰ßèâ\13\0\0¾ıÿÿÿH‰ßèù\13\0\0H5G\18\0\0H‰ßèÆ\13\0\0H5A\18\0\0H‰ßè·\13\0\0¾ıÿÿÿH‰ßèÎ\13\0\0¸\1\0\0\0[A\\A^A_]ÃfUH‰åH‹5-\27\0\0]é?\8\0\0ffffff.\15\31„\0\0\0\0\0UH‰åAWAVSPI‰ÿ»\1\0\0\0¾\1\0\0\0001Òèê\12\0\0I‰ÆL‰÷è«\13\0\0…Àt2L‰ÿè?\13\0\0èˆ\13\0\0‹8èá\13\0\0H‰ÁH5\5\19\0\0001ÀL‰ÿL‰òè\16\13\0\0»\2\0\0\0ë\13¾\1\0\0\0L‰ÿèğ\12\0\0‰ØHƒÄ\8[A^A_]Ã\15\31€\0\0\0\0UH‰åAVSHì\16\4\0\0H‰ûL‹5h\26\0\0I‹\6H‰EèH½àûÿÿ¾\0\4\0\0èB\13\0\0H…Àt\18H‰ßH‰Æèº\12\0\0¸\1\0\0\0ë$H‰ßè¥\12\0\0èî\12\0\0‹8èG\13\0\0H‰ßH‰Æè”\12\0\0¸\2\0\0\0I‹\14H;Mèu\12HÄ\16\4\0\0[A^]ÃèÃ\12\0\0ff.\15\31„\0\0\0\0\0UH‰åAWAVSPH‰û¾\1\0\0\0001Òèß\11\0\0I‰ÆH5m\8\0\0001ÒH‰ßè%\12\0\0¾\16\0\0\0H‰ßè\12\12\0\0I‰ÇH\21Ä\17\0\0¾Ø¹ğÿH‰ßèã\11\0\0¾şÿÿÿH‰ßè*\12\0\0AÇ\7\0\0\0\0L‰÷è‡\12\0\0I‰G\8H…Àu#è7\12\0\0‹8è\12\0\0H‰ÁH5\17\0\0001ÀH‰ßL‰òèw\11\0\0¸\2\0\0\0HƒÄ\8[A^A_]Ã\15\31€\0\0\0\0UH‰åAWAVATSH‰û¾\1\0\0\0001Òè.\11\0\0I‰Ç¾\2\0\0\0001ÒH‰ßè\28\11\0\0I‰ÄA¾\3\0\0\0¾\3\0\0\0H‰ßè¢\11\0\0…ÀH‹\13ı\24\0\0H\15E\13\13\25\0\0L‰ÿL‰æÿÑƒøÿt\19HcğH‰ßèC\11\0\0A¾\1\0\0\0ë/H‰ßè9\11\0\0è‚\11\0\0‹8èÛ\11\0\0H‰ßH‰Æè(\11\0\0èk\11\0\0Hc0H‰ßè\12\11\0\0D‰ğ[A\\A^A_]ÃfUH‰åAWAVATSHƒì I‰üH\21\30\16\0\0¾\1\0\0\0è\
\0\0H…Àt\17L‹0M…öu$H5\21\16\0\0ë\7H5ı\15\0\0H\21~\15\0\0E1ö1ÀL‰çè\\\
\0\0¾\2\0\0\0001ÒL‰çè5\
\0\0H‰Ã¾\3\0\0\0001ÒL‰çèG\
\0\0I‰Ç¾\4\0\0\0001ÒL‰çè5\
\0\0\15¾\11ƒùrt\13ƒùuu\16fÇEÜ\2\0ë\19fÇEÜ\1\0ë\11ƒùwu;fÇEÜ\3\0fÇEŞ\0\0L‰}ÈH‰EĞL‰÷è±\
\0\0‰ÁHUÈ¾\8\0\0\0001À‰Ïè—\
\0\0ƒøÿ\15•À\15¶Àë\24H5;\15\0\0H\21Ó\14\0\0001ÀL‰çè´\9\0\0…Àt\20»\1\0\0\0¾\1\0\0\0L‰çèÚ\9\0\0ë0L‰çèè\9\0\0è1\
\0\0‹8èŠ\
\0\0H‰ÁH5ñ\14\0\0001ÀL‰çH‰Êè¹\9\0\0»\2\0\0\0‰ØHƒÄ [A\\A^A_]Ãffff.\15\31„\0\0\0\0\0UH‰åAVSH‰ûA¾\1\0\0\0¾\1\0\0\0001Òè\28\9\0\0¾ı\1\0\0H‰Çè\5\
\0\0…Àt3H‰ßèo\9\0\0è¸\9\0\0‹8è\17\
\0\0H‰ÁH5x\14\0\0001ÀH‰ßH‰Êè@\9\0\0A¾\2\0\0\0ë\13¾\1\0\0\0H‰ßè\31\9\0\0D‰ğ[A^]Ãff.\15\31„\0\0\0\0\0UH‰åAVSH‰ûA¾\1\0\0\0¾\1\0\0\0001Òèœ\8\0\0H‰Çèœ\9\0\0…Àt3H‰ßèô\8\0\0è=\9\0\0‹8è–\9\0\0H‰ÁH5ı\13\0\0001ÀH‰ßH‰ÊèÅ\8\0\0A¾\2\0\0\0ë\13¾\1\0\0\0H‰ßè¤\8\0\0D‰ğ[A^]ÃUH‰åH‹5E\22\0\0]é_\3\0\0ffffff.\15\31„\0\0\0\0\0UH‰åSPH‰ûH\21·\13\0\0¾\1\0\0\0è\26\8\0\0H…Àt\15Hƒ8\0u!H5°\13\0\0ë\7H5˜\13\0\0H\21<\13\0\0001ÀH‰ßèú\7\0\0H\13ƒ\24\0\0¾\2\0\0\0001ÒH‰ßèÒ\7\0\0¾\1\0\0\0H‰ßè\19\8\0\0H5|\13\0\0H‰ßè\"\8\0\0¸\2\0\0\0HƒÄ\8[]Ãfff.\15\31„\0\0\0\0\0UH‰åAWAVATSHƒì\16I‰üE1ÿ¾\1\0\0\0001Òèw\7\0\0I‰ÆL‰çè®\7\0\0ƒø\1t.¾\2\0\0\0\15WÀL‰çè\7\0\0òH\15,ĞH‰UĞ¾\3\0\0\0L‰çèe\7\0\0H‰EØL}ĞL‰÷L‰şèZ\8\0\0…Àt2L‰çè\7\0\0è×\7\0\0‹8è0\8\0\0H‰ÁH5—\12\0\0001ÀL‰çH‰Êè_\7\0\0»\2\0\0\0ë\18»\1\0\0\0¾\1\0\0\0L‰çè:\7\0\0‰ØHƒÄ\16[A\\A^A_]Ãffffff.\15\31„\0\0\0\0\0UH‰åAWAVATSHƒì I‰üH\21N\12\0\0¾\1\0\0\0è±\6\0\0H…Àt\17L‹8M…ÿu$H5E\12\0\0ë\7H5-\12\0\0H\21ß\11\0\0E1ÿ1ÀL‰çèŒ\6\0\0A¾\2\0\0\0¾\2\0\0\0001ÒL‰çèƒ\6\0\0H‰Ã¾\3\0\0\0001ÒL‰çèq\6\0\0fÇEÜ\2\0fÇEŞ\0\0H‰]ÈH‰EĞL‰ÿè\15\7\0\0‰ÁHUÈ¾\8\0\0\0001À‰Ïèõ\6\0\0ƒøÿt\21A¾\1\0\0\0¾\1\0\0\0L‰çèY\6\0\0ë+L‰çèg\6\0\0è°\6\0\0‹8è\9\7\0\0H‰ÁH5p\11\0\0001ÀL‰çH‰Êè8\6\0\0D‰ğHƒÄ [A\\A^A_]ÃUH‰åAWAVATSHƒì\16I‰ÿHUØ¾\1\0\0\0è¨\5\0\0I‰Ä¾\8\0\0\0L‰ÿèæ\5\0\0I‰ÆH‹}ØHƒÇ\14èx\6\0\0H‰ÃH…ÛthH‰ßL‰æè‰\6\0\0H5Ü\
\0\0HÇÂÿÿÿÿH‰ßè%\6\0\0H=…\
\0\0H‰Şèp\6\0\0ƒøÿt+I‰\30H\21½\
\0\0¾Ø¹ğÿL‰ÿèp\5\0\0¾şÿÿÿL‰ÿè·\5\0\0¸\1\0\0\0ë,H‰ßèü\5\0\0L‰ÿè|\5\0\0èÅ\5\0\0‹8è\30\6\0\0L‰ÿH‰Æèk\5\0\0¸\2\0\0\0HƒÄ\16[A\\A^A_]Ãffffff.\15\31„\0\0\0\0\0UH‰åAWAVATSHì€\0\0\0I‰÷I‰ü¾\1\0\0\0001Òè´\4\0\0I‰ÆHµhÿÿÿL‰÷Aÿ×…Àt'L‰çè\4\5\0\0H5a\
\0\0001ÀL‰çL‰òèä\4\0\0A¾\2\0\0\0éğ\0\0\0¾\2\0\0\0L‰çè´\4\0\0¾\2\0\0\0…Àt`1ÒL‰çèû\4\0\0I‰ÆH‹=\23\21\0\0H…ÿt.H\29\27\21\0\0ff.\15\31„\0\0\0\0\0L‰öè>\5\0\0…À\15„Œ\0\0\0H‹;HƒÃ\16H…ÿuäH5\14\
\0\0001ÀL‰çè#\4\0\0A‰Æéz\0\0\0L‰çè©\4\0\0ƒø\5t\0121ö1ÒL‰çè \4\0\0H‹5«\20\0\0A¾\1\0\0\0H…ötOH\29©\20\0\0L½hÿÿÿfL‰çè2\4\0\0L‰çL‰şÿSø¾ıÿÿÿL‰çè(\4\0\0H‹3HƒÃ\16H…öuÖë\19HµhÿÿÿL‰çÿSøA¾\1\0\0\0D‰ğHÄ€\0\0\0[A\\A^A_]Ãfffff.\15\31„\0\0\0\0\0UH‰åAVSI‰şH\21g\9\0\0¾\1\0\0\0èY\3\0\0H‰Ãƒ;\0t\20H\21u\9\0\0¾\1\0\0\0L‰÷è+\3\0\0H‹{\8è*\4\0\0H…Àt\22HƒÀ\8L‰÷H‰Æè†\3\0\0¸\1\0\0\0ë\17H‹{\8èÖ\3\0\0Ç\3\1\0\0\0001À[A^]Ãffffff.\15\31„\0\0\0\0\0UH‰åSPH\21W\8\0\0¾\1\0\0\0èİ\2\0\0H‰ÃH‹;H…ÿt\20èç\3\0\0H‹;è\3\0\0HÇ\3\0\0\0\0001ÀHƒÄ\8[]ÃUH‰åSP¾\1\0\0\0è@\3\0\0H‰Ãƒ;\0u\14H‹{\8H…ÿt\5èT\3\0\0Ç\3\1\0\0\0001ÀHƒÄ\8[]ÃP‰ğH‰şH\13/\9\0\0H‰×‰Âè\5\3\0\0I‰ĞH¸\0\0\0\0\0\0\0€AÇ\0\0\0\0\0H‰ñH\15¯ÏH9Çu\8Hƒş\2sLëQH9Æu\8Hƒÿ\2s?ëDH‰úHÁú?H1×H)×Hƒÿ\2|1I‰ñIÁù?L1ÎL)ÎHƒş\2|\30L9Êu\5HÿÈë\3H÷ŞH™H÷şH9Ç~\7AÇ\0\1\0\0\0H‰ÈÃI‰ĞAÇ\0\0\0\0\0‰ñ\15¯Ïÿ\0\0\0€u\7ƒş\2sHëMş\0\0\0€u\7ƒÿ\2s9ë>‰øÁø\0311Ç)Çƒÿ\2|0‰òÁú\0311Ö)Öƒş\2|\"9Ğu\9¸ÿÿÿ\1271Òë\8÷Ş¸\0\0\0€™÷ş9Ç~\7AÇ\0\1\0\0\0‰ÈÃUAWAVAUATSPM‰ÇH‰ÍH‰ÓI‰õI‰şAÇ\7\0\0\0\0H‰ŞI\15¯õH‰ØI÷æH\1òI‰ìM\15¯æI\1ÔH¾\0\0\0\0\0\0\0€L‰êH1òL\9òu\27Hƒû\2\15’ÂH…Ét\0021Ò„Ò\15„Ò\0\0\0éÔ\0\0\0H1ÎH\9Şu\27Iƒş\2\15’ÁM…ít\0021É„É\15„¯\0\0\0é±\0\0\0L‰ïHÁÿ?I1ıI1şI)şI\25ıHÁı?H1éH1ëH)ëH\25éIƒş\2\15’ÂM…í@\15˜Æt\3@ˆò„ÒuwHƒû\1\15—ÂH…É@\15ŸÆt\3@ˆò„Òt`H‰\4$H1ïH\9ÿu\22H¾ÿÿÿÿÿÿÿ\127HÇÇÿÿÿÿH‰Úë\0261ÀH÷ÛH\25ÈH¾\0\0\0\0\0\0\0€1ÿH‰ÚH‰Áèj\1\0\0I9Æ\15–ÀI9Õ\15Át\2ˆÈ„ÀH‹\4$u\7AÇ\7\1\0\0\0L‰âHƒÄ\8[A\\A]A^A_]Ãÿ% \14\0\0ÿ%\"\14\0\0ÿ%$\14\0\0ÿ%&\14\0\0ÿ%(\14\0\0ÿ%*\14\0\0ÿ%,\14\0\0ÿ%.\14\0\0ÿ%0\14\0\0ÿ%2\14\0\0ÿ%4\14\0\0ÿ%6\14\0\0ÿ%8\14\0\0ÿ%:\14\0\0ÿ%<\14\0\0ÿ%>\14\0\0ÿ%@\14\0\0ÿ%B\14\0\0ÿ%D\14\0\0ÿ%F\14\0\0ÿ%H\14\0\0ÿ%J\14\0\0ÿ%L\14\0\0ÿ%N\14\0\0ÿ%P\14\0\0ÿ%R\14\0\0ÿ%T\14\0\0ÿ%V\14\0\0ÿ%X\14\0\0ÿ%Z\14\0\0ÿ%\\\14\0\0ÿ%^\14\0\0ÿ%`\14\0\0ÿ%b\14\0\0ÿ%d\14\0\0ÿ%f\14\0\0ÿ%h\14\0\0ÿ%j\14\0\0ÿ%l\14\0\0ÿ%n\14\0\0ÿ%p\14\0\0ÿ%r\14\0\0ÿ%t\14\0\0ÿ%v\14\0\0ÿ%x\14\0\0ÿ%z\14\0\0ÿ%|\14\0\0ÿ%~\14\0\0ÿ%€\14\0\0ÿ%‚\14\0\0ÿ%„\14\0\0ÿ%†\14\0\0ÿ%ˆ\14\0\0L\29á\12\0\0éDíÿÿL\29İ\12\0\0é8íÿÿL\29Ù\12\0\0é,íÿÿL\29Õ\12\0\0é íÿÿL\29Ñ\12\0\0é\20íÿÿL\29Í\12\0\0é\8íÿÿL\29É\12\0\0éüìÿÿL\29Å\12\0\0éğìÿÿL\29Á\12\0\0éäìÿÿL\29½\12\0\0éØìÿÿL\29¹\12\0\0éÌìÿÿL\29µ\12\0\0éÀìÿÿL\29±\12\0\0é´ìÿÿL\29­\12\0\0é¨ìÿÿL\29©\12\0\0éœìÿÿL\29¥\12\0\0éìÿÿL\29¡\12\0\0é„ìÿÿL\29\12\0\0éxìÿÿL\29™\12\0\0élìÿÿL\29•\12\0\0é`ìÿÿL\29‘\12\0\0éTìÿÿL\29\12\0\0éHìÿÿL\29‰\12\0\0é<ìÿÿL\29…\12\0\0é0ìÿÿL\29\12\0\0é$ìÿÿL\29}\12\0\0é\24ìÿÿL\29y\12\0\0é\12ìÿÿL\29u\12\0\0é\0ìÿÿL\29q\12\0\0éôëÿÿL\29m\12\0\0éèëÿÿL\29i\12\0\0éÜëÿÿL\29e\12\0\0éĞëÿÿL\29a\12\0\0éÄëÿÿL\29]\12\0\0é¸ëÿÿL\29Y\12\0\0é¬ëÿÿL\29U\12\0\0é ëÿÿL\29Q\12\0\0é”ëÿÿL\29M\12\0\0éˆëÿÿL\29I\12\0\0é|ëÿÿL\29E\12\0\0épëÿÿL\29A\12\0\0édëÿÿL\29=\12\0\0éXëÿÿL\0299\12\0\0éLëÿÿL\0295\12\0\0é@ëÿÿL\0291\12\0\0é4ëÿÿL\29-\12\0\0é(ëÿÿL\29)\12\0\0é\28ëÿÿL\29%\12\0\0é\16ëÿÿL\29!\12\0\0é\4ëÿÿL\29\29\12\0\0éøêÿÿL\29\25\12\0\0éìêÿÿL\29\21\12\0\0éàêÿÿL\29\17\12\0\0éÔêÿÿ\0\0\0\0\0\0\0\0\0p\127@mode\0dev\0ino\0nlink\0uid\0gid\0rdev\0access\0modification\0change\0size\0permissions\0blocks\0blksize\0lfs\0_COPYRIGHT\0Copyright (C) 2003-2012 Kepler Project\0_DESCRIPTION\0LuaFileSystem is a Lua library developed to complement the set of functions related to file systems offered by the standard Lua distribution\0_VERSION\0LuaFileSystem 1.6.3\0attributes\0chdir\0currentdir\0dir\0link\0lock\0mkdir\0rmdir\0symlinkattributes\0setmode\0touch\0unlock\0lock_dir\0/lockfile.lfs\0lock metatable\0%s\0%s: invalid mode\0FILE*\0%s: not a file\0%s: closed file\0binary\0text\0cannot obtain information from file `%s'\0invalid attribute name\0directory metatable\0cannot open %s: %s\0closed directory\0Unable to change working directory to '%s'\
%s\
\0free\0__index\0__gc\0next\0close\0file\0directory\0socket\0named pipe\0char device\0block device\0other\0libcompiler_rt abort\0\0\0\0\1\0\0\0\28\0\0\0\5\0\0\0000\0\0\0\0\0\0\0000\0\0\0\2\0\0\0\0\0\0\1!\0\2\1\17\11\4\1\1\0\1\1a\1\3\1 \16\0\0H\0\0\0H\0\0\0\18\"\0\0\0\0\0\0H\0\0\0\3\0\0\0\12\0\17\0P\0\4\0\0\0\0\8 \0\0\0P\2\0\2P\4\0\0p\4\0\4ğ\4\0\1€\5\0\0040\6\0\2@\8\0\0010\9\0\0P\9\0\3à\9\0\2\16\14\0\1\14\0\3\16\15\0\0070\15\0\6 \16\0\5\0\24\8\2\0\0\1\2\0\0\2\2\0\0\0\0\0\0\0\0\20\0\0\0\0\0\0\0\1zR\0\1x\16\1\16\12\7\8\1\0\0$\0\0\0\28\0\0\0ğæÿÿÿÿÿÿÂ\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0D\0\0\0˜çÿÿÿÿÿÿ\13\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0l\0\0\0€çÿÿÿÿÿÿ\13\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0”\0\0\0hçÿÿÿÿÿÿ\14\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0¼\0\0\0Pçÿÿÿÿÿÿ\13\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0ä\0\0\0008çÿÿÿÿÿÿ\13\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0\12\1\0\0 çÿÿÿÿÿÿ\14\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0004\1\0\0\8çÿÿÿÿÿÿ\14\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0\\\1\0\0ğæÿÿÿÿÿÿ\14\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0„\1\0\0Øæÿÿÿÿÿÿ\14\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0¬\1\0\0Àæÿÿÿÿÿÿ\14\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0Ô\1\0\0¨æÿÿÿÿÿÿ‘\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0ü\1\0\0 çÿÿÿÿÿÿ\14\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0$\2\0\0\8çÿÿÿÿÿÿ\14\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0,\0\0\0L\2\0\0ğæÿÿÿÿÿÿş\1\0\0\0\0\0\0\0A\14\16†\2C\13\6Gƒ\6Œ\5\4\3\0\0\0\0\0\0$\0\0\0|\2\0\0Àèÿÿÿÿÿÿ\17\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0¤\2\0\0¸èÿÿÿÿÿÿy\0\0\0\0\0\0\0\0A\14\16†\2C\13\6Fƒ\5\4\3$\0\0\0Ì\2\0\0\16éÿÿÿÿÿÿ…\0\0\0\0\0\0\0\0A\14\16†\2C\13\6Jƒ\4\3\0\0$\0\0\0ô\2\0\0xéÿÿÿÿÿÿ©\0\0\0\0\0\0\0\0A\14\16†\2C\13\6Fƒ\5\4\3,\0\0\0\28\3\0\0\0êÿÿÿÿÿÿ®\0\0\0\0\0\0\0\0A\14\16†\2C\13\6Gƒ\6Œ\5\4\3\0\0\0\0\0\0,\0\0\0L\3\0\0€êÿÿÿÿÿÿS\1\0\0\0\0\0\0\0A\14\16†\2C\13\6Kƒ\6Œ\5\4\3\0\0\0\0\0\0$\0\0\0|\3\0\0°ëÿÿÿÿÿÿu\0\0\0\0\0\0\0\0A\14\16†\2C\13\6Cƒ\4\3\0\0$\0\0\0¤\3\0\0\8ìÿÿÿÿÿÿp\0\0\0\0\0\0\0\0A\14\16†\2C\13\6Cƒ\4\3\0\0$\0\0\0Ì\3\0\0Pìÿÿÿÿÿÿ\17\0\0\0\0\0\0\0\0A\14\16†\2C\13\6\0\0\0\0\0\0\0$\0\0\0ô\3\0\0Hìÿÿÿÿÿÿ„\0\0\0\0\0\0\0\0A\14\16†\2C\13\6Bƒ\3\0\0\0\0,\0\0\0\28\4\0\0°ìÿÿÿÿÿÿÁ\0\0\0\0\0\0\0\0A\14\16†\2C\13\6Kƒ\6Œ\5\4\3\0\0\0\0\0\0,\0\0\0L\4\0\0Píÿÿÿÿÿÿ\0\1\0\0\0\0\0\0\0A\14\16†\2C\13\6Kƒ\6Œ\5\4\3\0\0\0\0\0\0,\0\0\0|\4\0\0 îÿÿÿÿÿÿá\0\0\0\0\0\0\0\0A\14\16†\2C\13\6Kƒ\6Œ\5\4\3\0\0\0\0\0\0,\0\0\0¬\4\0\0àîÿÿÿÿÿÿb\1\0\0\0\0\0\0\0A\14\16†\2C\13\6Nƒ\6Œ\5\4\3\0\0\0\0\0\0$\0\0\0Ü\4\0\0 ğÿÿÿÿÿÿq\0\0\0\0\0\0\0\0A\14\16†\2C\13\6Cƒ\4\3\0\0$\0\0\0\4\5\0\0xğÿÿÿÿÿÿ?\0\0\0\0\0\0\0\0A\14\16†\2C\13\6Bƒ\3\0\0\0\0$\0\0\0,\5\0\0ğÿÿÿÿÿÿ5\0\0\0\0\0\0\0\0A\14\16†\2C\13\6Bƒ\3\0\0\0\0\20\0\0\0\0\0\0\0\1zR\0\1x\16\1\16\12\7\8\1\0\0\28\0\0\0\28\0\0\0ğÿÿÿÿÿÿ\23\0\0\0\0\0\0\0\0A\14\16\0\0\0\0\20\0\0\0\0\0\0\0\1zR\0\1x\16\1\16\12\7\8\1\0\0\28\0\0\0\28\0\0\0xğÿÿÿÿÿÿ}\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\20\0\0\0\0\0\0\0\1zR\0\1x\16\1\16\12\7\8\1\0\0\28\0\0\0\28\0\0\0Àğÿÿÿÿÿÿn\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\20\0\0\0\0\0\0\0\1zR\0\1x\16\1\16\12\7\8\1\0\0<\0\0\0\28\0\0\0øğÿÿÿÿÿÿQ\1\0\0\0\0\0\0\0A\14\16B\14\24B\14 B\14(B\0140A\0148A\14@ƒ\7Œ\6\5\4\3†\2\0\0\0\0\0\0\0\16À_ÿ\127\0\0\8\16À_ÿ\127\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0P#\0\0\0\0\0\0\\#\0\0\0\0\0\0h#\0\0\0\0\0\0t#\0\0\0\0\0\0€#\0\0\0\0\0\0Œ#\0\0\0\0\0\0˜#\0\0\0\0\0\0¤#\0\0\0\0\0\0°#\0\0\0\0\0\0¼#\0\0\0\0\0\0È#\0\0\0\0\0\0Ô#\0\0\0\0\0\0à#\0\0\0\0\0\0ì#\0\0\0\0\0\0ø#\0\0\0\0\0\0\4$\0\0\0\0\0\0\16$\0\0\0\0\0\0\28$\0\0\0\0\0\0($\0\0\0\0\0\0004$\0\0\0\0\0\0@$\0\0\0\0\0\0L$\0\0\0\0\0\0X$\0\0\0\0\0\0d$\0\0\0\0\0\0p$\0\0\0\0\0\0|$\0\0\0\0\0\0ˆ$\0\0\0\0\0\0”$\0\0\0\0\0\0 $\0\0\0\0\0\0¬$\0\0\0\0\0\0¸$\0\0\0\0\0\0Ä$\0\0\0\0\0\0Ğ$\0\0\0\0\0\0Ü$\0\0\0\0\0\0è$\0\0\0\0\0\0ô$\0\0\0\0\0\0\0%\0\0\0\0\0\0\12%\0\0\0\0\0\0\24%\0\0\0\0\0\0$%\0\0\0\0\0\0000%\0\0\0\0\0\0<%\0\0\0\0\0\0H%\0\0\0\0\0\0T%\0\0\0\0\0\0`%\0\0\0\0\0\0l%\0\0\0\0\0\0x%\0\0\0\0\0\0„%\0\0\0\0\0\0%\0\0\0\0\0\0œ%\0\0\0\0\0\0¨%\0\0\0\0\0\0´%\0\0\0\0\0\0À%\0\0\0\0\0\0 '\0\0\0\0\0\0ğ\20\0\0\0\0\0\0+'\0\0\0\0\0\0\16\21\0\0\0\0\0\0001'\0\0\0\0\0\0\21\0\0\0\0\0\0<'\0\0\0\0\0\0 \22\0\0\0\0\0\0@'\0\0\0\0\0\0Ğ\22\0\0\0\0\0\0E'\0\0\0\0\0\0€\23\0\0\0\0\0\0J'\0\0\0\0\0\0à\24\0\0\0\0\0\0P'\0\0\0\0\0\0`\25\0\0\0\0\0\0V'\0\0\0\0\0\0Ğ\25\0\0\0\0\0\0h'\0\0\0\0\0\0ğ\25\0\0\0\0\0\0p'\0\0\0\0\0\0€\26\0\0\0\0\0\0v'\0\0\0\0\0\0P\27\0\0\0\0\0\0}'\0\0\0\0\0\0P\28\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0Ü'\0\0\0\0\0\0ã'\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0Ø%\0\0\0\0\0\0À\16\0\0\0\0\0\0İ%\0\0\0\0\0\0\17\0\0\0\0\0\0á%\0\0\0\0\0\0 \17\0\0\0\0\0\0å%\0\0\0\0\0\0°\17\0\0\0\0\0\0ë%\0\0\0\0\0\0À\17\0\0\0\0\0\0ï%\0\0\0\0\0\0Ğ\17\0\0\0\0\0\0ó%\0\0\0\0\0\0à\17\0\0\0\0\0\0ø%\0\0\0\0\0\0ğ\17\0\0\0\0\0\0ÿ%\0\0\0\0\0\0\0\18\0\0\0\0\0\0\12&\0\0\0\0\0\0\16\18\0\0\0\0\0\0\19&\0\0\0\0\0\0 \18\0\0\0\0\0\0\24&\0\0\0\0\0\0000\18\0\0\0\0\0\0$&\0\0\0\0\0\0Ğ\18\0\0\0\0\0\0+&\0\0\0\0\0\0à\18\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0---------\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0008\0\0\0\3\0\0\6@\0\0\0\3\0\0\6H\0\0\0\3\0\0\6P\0\0\0\3\0\0\6X\0\0\0\3\0\0\6`\0\0\0\3\0\0\6h\0\0\0\3\0\0\6p\0\0\0\3\0\0\6x\0\0\0\3\0\0\6€\0\0\0\3\0\0\6ˆ\0\0\0\3\0\0\6\0\0\0\3\0\0\6˜\0\0\0\3\0\0\6 \0\0\0\3\0\0\6¨\0\0\0\3\0\0\6°\0\0\0\3\0\0\6¸\0\0\0\3\0\0\6À\0\0\0\3\0\0\6È\0\0\0\3\0\0\6Ğ\0\0\0\3\0\0\6Ø\0\0\0\3\0\0\6à\0\0\0\3\0\0\6è\0\0\0\3\0\0\6ğ\0\0\0\3\0\0\6ø\0\0\0\3\0\0\6\0\1\0\0\3\0\0\6\8\1\0\0\3\0\0\6\16\1\0\0\3\0\0\6\24\1\0\0\3\0\0\6 \1\0\0\3\0\0\6(\1\0\0\3\0\0\0060\1\0\0\3\0\0\0068\1\0\0\3\0\0\6@\1\0\0\3\0\0\6H\1\0\0\3\0\0\6P\1\0\0\3\0\0\6X\1\0\0\3\0\0\6`\1\0\0\3\0\0\6h\1\0\0\3\0\0\6p\1\0\0\3\0\0\6x\1\0\0\3\0\0\6€\1\0\0\3\0\0\6ˆ\1\0\0\3\0\0\6\1\0\0\3\0\0\6˜\1\0\0\3\0\0\6 \1\0\0\3\0\0\6¨\1\0\0\3\0\0\6°\1\0\0\3\0\0\6¸\1\0\0\3\0\0\6À\1\0\0\3\0\0\6È\1\0\0\3\0\0\6Ğ\1\0\0\3\0\0\6Ø\1\0\0\3\0\0\6¨\2\0\0\1\0\0\6 \2\0\0\5\0\0\6˜\2\0\0\1\0\0\6\2\0\0\5\0\0\6ˆ\2\0\0\1\0\0\6€\2\0\0\5\0\0\6x\2\0\0\1\0\0\6p\2\0\0\5\0\0\6h\2\0\0\1\0\0\6`\2\0\0\5\0\0\6X\2\0\0\1\0\0\6P\2\0\0\5\0\0\6H\2\0\0\1\0\0\6@\2\0\0\5\0\0\0068\2\0\0\1\0\0\0060\2\0\0\5\0\0\6(\2\0\0\1\0\0\6 \2\0\0\5\0\0\6\24\2\0\0\1\0\0\6\16\2\0\0\5\0\0\6\8\2\0\0\1\0\0\6\0\2\0\0\5\0\0\6ø\1\0\0\1\0\0\6ğ\1\0\0\5\0\0\6è\1\0\0\1\0\0\6à\1\0\0\5\0\0\6È\2\0\0\5\0\0\6À\2\0\0\5\0\0\6¸\3\0\0\1\0\0\6°\3\0\0\5\0\0\6¨\3\0\0\1\0\0\6 \3\0\0\5\0\0\6˜\3\0\0\1\0\0\6\3\0\0\5\0\0\6ˆ\3\0\0\1\0\0\6€\3\0\0\5\0\0\6x\3\0\0\1\0\0\6p\3\0\0\5\0\0\6h\3\0\0\1\0\0\6`\3\0\0\5\0\0\6X\3\0\0\1\0\0\6P\3\0\0\5\0\0\6H\3\0\0\1\0\0\6@\3\0\0\5\0\0\0068\3\0\0\1\0\0\0060\3\0\0\5\0\0\6(\3\0\0\1\0\0\6 \3\0\0\5\0\0\6\24\3\0\0\1\0\0\6\16\3\0\0\5\0\0\6\8\3\0\0\1\0\0\6\0\3\0\0\5\0\0\6ø\2\0\0\1\0\0\6ğ\2\0\0\5\0\0\6è\2\0\0\1\0\0\6à\2\0\0\5\0\0\6 !\20\12Ğ\1\16\16\16\16\16\16\16\16\16\16 \1\16\16€\4 €\1\1°\1°\1à\2€\1p \1Ğ\1€\2ğ\1ğ\2€\1@@ €\1p\0\2\0\0\0\30\1\0\0 \16\0\0\0\0\0\0\27\0\0\0\30\1\0\0´\16\0\0\0\0\0\0.\0\0\0\14\1\0\0À\16\0\0\0\0\0\0<\0\0\0\14\1\0\0\17\0\0\0\0\0\0I\0\0\0\14\1\0\0 \17\0\0\0\0\0\0V\0\0\0\14\1\0\0°\17\0\0\0\0\0\0e\0\0\0\14\1\0\0À\17\0\0\0\0\0\0r\0\0\0\14\1\0\0Ğ\17\0\0\0\0\0\0\127\0\0\0\14\1\0\0à\17\0\0\0\0\0\0\0\0\0\14\1\0\0ğ\17\0\0\0\0\0\0œ\0\0\0\14\1\0\0\0\18\0\0\0\0\0\0«\0\0\0\14\1\0\0\16\18\0\0\0\0\0\0º\0\0\0\14\1\0\0 \18\0\0\0\0\0\0È\0\0\0\14\1\0\0000\18\0\0\0\0\0\0Ö\0\0\0\14\1\0\0Ğ\18\0\0\0\0\0\0æ\0\0\0\14\1\0\0à\18\0\0\0\0\0\0÷\0\0\0\14\1\0\0ğ\20\0\0\0\0\0\0\2\1\0\0\14\1\0\0\16\21\0\0\0\0\0\0\14\1\0\0\14\1\0\0\21\0\0\0\0\0\0\23\1\0\0\14\1\0\0 \22\0\0\0\0\0\0)\1\0\0\14\1\0\0Ğ\22\0\0\0\0\0\0004\1\0\0\14\1\0\0€\23\0\0\0\0\0\0?\1\0\0\14\1\0\0à\24\0\0\0\0\0\0I\1\0\0\14\1\0\0`\25\0\0\0\0\0\0U\1\0\0\14\1\0\0Ğ\25\0\0\0\0\0\0`\1\0\0\14\1\0\0ğ\25\0\0\0\0\0\0o\1\0\0\14\1\0\0€\26\0\0\0\0\0\0{\1\0\0\14\1\0\0P\27\0\0\0\0\0\0ˆ\1\0\0\14\1\0\0P\28\0\0\0\0\0\0–\1\0\0\14\1\0\0@\29\0\0\0\0\0\0£\1\0\0\14\1\0\0°\30\0\0\0\0\0\0­\1\0\0\14\1\0\0000\31\0\0\0\0\0\0½\1\0\0\14\1\0\0p\31\0\0\0\0\0\0È\1\0\0\30\1€\0°\31\0\0\0\0\0\0ß\1\0\0\30\1\0\0Ğ\31\0\0\0\0\0\0ê\1\0\0\30\1\0\0P \0\0\0\0\0\0õ\1\0\0\30\1\0\0À \0\0\0\0\0\0\0\2\0\0\14\11\0\0à1\0\0\0\0\0\0\7\2\0\0\14\11\0\0À2\0\0\0\0\0\0 \2\0\0\14\12\0\0Ğ3\0\0\0\0\0\0003\2\0\0\15\1\0\0ğ\18\0\0\0\0\0\0@\2\0\0\15\12\0\0à2\0\0\0\0\0\0I\2\0\0\1\0\0\1\0\0\0\0\0\0\0\0W\2\0\0\1\0\0\2\0\0\0\0\0\0\0\0a\2\0\0\1\0\0\1\0\0\0\0\0\0\0\0j\2\0\0\1\0\0\1\0\0\0\0\0\0\0\0|\2\0\0\1\0\0\1\0\0\0\0\0\0\0\0\2\0\0\1\0\0\1\0\0\0\0\0\0\0\0\2\0\0\1\0\0\1\0\0\0\0\0\0\0\0¤\2\0\0\1\0\0\1\0\0\0\0\0\0\0\0®\2\0\0\1\0\0\1\0\0\0\0\0\0\0\0µ\2\0\0\1\0\0\1\0\0\0\0\0\0\0\0½\2\0\0\1\0\0\1\0\0\0\0\0\0\0\0Ã\2\0\0\1\0\0\1\0\0\0\0\0\0\0\0Ë\2\0\0\1\0\0\1\0\0\0\0\0\0\0\0Ñ\2\0\0\1\0\0\1\0\0\0\0\0\0\0\0Ø\2\0\0\1\0\0ş\0\0\0\0\0\0\0\0ç\2\0\0\1\0\0ş\0\0\0\0\0\0\0\0ú\2\0\0\1\0\0ş\0\0\0\0\0\0\0\0\12\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0\29\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0001\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0=\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0P\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0a\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0q\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0€\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0‘\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0Ÿ\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0«\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0¹\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0Ê\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0Û\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0í\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0ş\3\0\0\1\0\0ş\0\0\0\0\0\0\0\0\15\4\0\0\1\0\0ş\0\0\0\0\0\0\0\0\28\4\0\0\1\0\0ş\0\0\0\0\0\0\0\0,\4\0\0\1\0\0ş\0\0\0\0\0\0\0\0;\4\0\0\1\0\0ş\0\0\0\0\0\0\0\0G\4\0\0\1\0\0ş\0\0\0\0\0\0\0\0U\4\0\0\1\0\0ş\0\0\0\0\0\0\0\0d\4\0\0\1\0\0ş\0\0\0\0\0\0\0\0v\4\0\0\1\0\0ş\0\0\0\0\0\0\0\0„\4\0\0\1\0\0ş\0\0\0\0\0\0\0\0“\4\0\0\1\0\0ş\0\0\0\0\0\0\0\0¢\4\0\0\1\0\0ş\0\0\0\0\0\0\0\0²\4\0\0\1\0\0ş\0\0\0\0\0\0\0\0¼\4\0\0\1\0\0\1\0\0\0\0\0\0\0\0Ä\4\0\0\1\0\0\1\0\0\0\0\0\0\0\0Ë\4\0\0\1\0\0\1\0\0\0\0\0\0\0\0Ô\4\0\0\1\0\0\1\0\0\0\0\0\0\0\0İ\4\0\0\1\0\0\1\0\0\0\0\0\0\0\0ä\4\0\0\1\0\0\1\0\0\0\0\0\0\0\0ê\4\0\0\1\0\0\1\0\0\0\0\0\0\0\0ò\4\0\0\1\0\0\1\0\0\0\0\0\0\0\0ú\4\0\0\1\0\0\1\0\0\0\0\0\0\0\0\4\5\0\0\1\0\0\1\0\0\0\0\0\0\0\0\13\5\0\0\1\0\0\1\0\0\0\0\0\0\0\0\21\5\0\0\1\0\0\1\0\0\0\0\0\0\0\0008\0\0\0009\0\0\0:\0\0\0;\0\0\0<\0\0\0=\0\0\0>\0\0\0?\0\0\0@\0\0\0A\0\0\0B\0\0\0C\0\0\0D\0\0\0E\0\0\0F\0\0\0G\0\0\0H\0\0\0I\0\0\0J\0\0\0K\0\0\0L\0\0\0M\0\0\0N\0\0\0O\0\0\0P\0\0\0Q\0\0\0R\0\0\0S\0\0\0T\0\0\0U\0\0\0V\0\0\0*\0\0\0,\0\0\0-\0\0\0/\0\0\0000\0\0\0001\0\0\0002\0\0\0003\0\0\0004\0\0\0005\0\0\0W\0\0\0X\0\0\0Y\0\0\0Z\0\0\0[\0\0\0]\0\0\0^\0\0\0_\0\0\0`\0\0\0a\0\0\0b\0\0\0+\0\0\0.\0\0\0006\0\0\0007\0\0\0\\\0\0\0`\0\0\0008\0\0\0009\0\0\0:\0\0\0;\0\0\0<\0\0\0=\0\0\0>\0\0\0?\0\0\0@\0\0\0A\0\0\0B\0\0\0C\0\0\0D\0\0\0E\0\0\0F\0\0\0G\0\0\0H\0\0\0I\0\0\0J\0\0\0K\0\0\0L\0\0\0M\0\0\0N\0\0\0O\0\0\0P\0\0\0Q\0\0\0R\0\0\0S\0\0\0T\0\0\0U\0\0\0V\0\0\0*\0\0\0,\0\0\0-\0\0\0/\0\0\0000\0\0\0001\0\0\0002\0\0\0003\0\0\0004\0\0\0005\0\0\0W\0\0\0X\0\0\0Y\0\0\0Z\0\0\0[\0\0\0]\0\0\0^\0\0\0_\0\0\0`\0\0\0a\0\0\0b\0\0\0+\0\0\0 \0dyld_stub_binding_helper\0__dyld_func_lookup\0_push_st_mode\0_push_st_dev\0_push_st_ino\0_push_st_nlink\0_push_st_uid\0_push_st_gid\0_push_st_rdev\0_push_st_atime\0_push_st_mtime\0_push_st_ctime\0_push_st_size\0_push_st_perm\0_push_st_blocks\0_push_st_blksize\0_file_info\0_change_dir\0_get_dir\0_dir_iter_factory\0_make_link\0_file_lock\0_make_dir\0_remove_dir\0_link_info\0_lfs_f_setmode\0_file_utime\0_file_unlock\0_lfs_lock_dir\0__file_info_\0_dir_iter\0_lfs_unlock_dir\0_dir_close\0_compilerrt_abort_impl\0___mulodi4\0___mulosi4\0___muloti4\0_fslib\0_lfs_g_setmode.modenames\0_perm2string.perms\0_luaopen_lfs\0_members\0___assert_rtn\0___divti3\0___error\0___stack_chk_fail\0___stack_chk_guard\0___strcat_chk\0_chdir\0_closedir\0_fcntl\0_fileno\0_free\0_getcwd\0_link\0_lstat\0_luaL_argerror\0_luaL_checklstring\0_luaL_checkoption\0_luaL_checkudata\0_luaL_checkversion_\0_luaL_error\0_luaL_newmetatable\0_luaL_optinteger\0_luaL_optnumber\0_luaL_setfuncs\0_lua_createtable\0_lua_getfield\0_lua_gettop\0_lua_isstring\0_lua_newuserdata\0_lua_pushboolean\0_lua_pushcclosure\0_lua_pushfstring\0_lua_pushinteger\0_lua_pushnil\0_lua_pushstring\0_lua_pushvalue\0_lua_rawset\0_lua_setfield\0_lua_setglobal\0_lua_setmetatable\0_lua_settable\0_lua_toboolean\0_lua_tolstring\0_lua_touserdata\0_lua_type\0_malloc\0_mkdir\0_opendir\0_readdir\0_rmdir\0_stat\0_strcmp\0_strcpy\0_strerror\0_symlink\0_unlink\0_utime\0\0\0\0\0" )
  f:close()
  local sentinel = newproxy and newproxy( true )
                            or setmetatable( {}, { __gc = true } )
  getmetatable( sentinel ).__gc = function() os_remove( dll ) end
  dllnames[ "/usr/local/stow/luarocks-2.4.2/lib/lua/5.3/lfs.so" ] = function()
    local _ = sentinel
    return dll
  end
  return dll
end

package.preload[ "lfs" ] = function()
  local dll = dllnames[ "/usr/local/stow/luarocks-2.4.2/lib/lua/5.3/lfs.so" ]()
  local loader = assert( package_loadlib( dll, "luaopen_lfs" ) )
  return loader( "lfs", dll )
end

end

local lfs = require "lfs"
local log = require "lib/log"

local Parser = require "lib/Parser"
local Stower = require "lib/Stower"

local PATH_SEPARATOR = package.config:sub(1, 1)
local ON_WINDOWS = PATH_SEPARATOR == "\\"
local LUASTOW_DEFAULT_DIR = "/usr/local/luastow"


local args = Parser.parse_cmd_arguments()

do -- Handle command-line arguments and options
	if args.global then
		if ON_WINDOWS then
			log.error("Sorry but this feature isn't available on Windows!")
			os.exit(-1)
		end

		if lfs.chdir(LUASTOW_DEFAULT_DIR) == nil then
			log.error("Default luastow directory (`/usr/local/luastow') doesn't seem to exist!")
			os.exit(-1)
		else
			-- Go to default luastow directory, and look for a directory that matches `source_dir'
			local _source_dir
			for dir in lfs.dir(lfs.currentdir()) do
				print("checking " .. dir)
				if dir:find(args.source_dir) ~= nil then
					_source_dir = LUASTOW_DEFAULT_DIR .. PATH_SEPARATOR .. dir
				end
			end

			if _source_dir == nil then
				log.error("Source dir `" .. args.source_dir .. "' was not found in " .. LUASTOW_DEFAULT_DIR .. "!")
				os.exit(-1)
			else
				args.source_dir = _source_dir
				args.target = Parser.trim_directory(LUASTOW_DEFAULT_DIR)
			end
		end
	else
		-- Handle `source_dir' argument
		local _ = lfs.attributes(args.source_dir)
		if _ == nil then
			log.error("Source `" .. args.source_dir .. "' doesn't seem to exist!")
			os.exit(-1)
		elseif _.mode ~= "directory" then
			log.error("Source must be a directory!")
			os.exit(-1)
		end
		if args.source_dir:sub(1, 1) ~= "/" and args.source_dir:sub(2, 3) ~= ":\\" then
			args.source_dir = lfs.currentdir() .. PATH_SEPARATOR .. args.source_dir
		end
		print(args.source_dir)

		-- Handle `--target'
		if args.target == "." then args.target = lfs.currentdir() end
		if args.target == ".." then args.target = Parser.trim_directory(lfs.currentdir()) end
		_ = lfs.attributes(args.target)
		if _ == nil then
			log.error("Target `" .. lfs.currentdir() .. PATH_SEPARATOR .. args.target .. "' doesn't seem to exist!")
			os.exit(-1)
		elseif _.mode ~= "directory" then
			log.error("Target must be a directory!")
			os.exit(-1)
		end
	end

	-- Handle `--verbose'
	local _verbosity_levels = {"error", "debug", "trace"}
	-- Keep in mind field `verbosity' starts at 0
	log.level = _verbosity_levels[args.verbosity + 1]

	-- Handle `--delete' and `--restow'
	if args.restow and args.delete then
		log.error("--delete and --restow cannot both be set to true!")
		os.exit(-1)
	end
end

if args.verbosity >= 2 then
	log.trace("Starting Luastow using these options:")
	local _ = {}
	for k, v in pairs(args) do
		_[#_ + 1] = "\t" .. k .. " = " .. tostring(v)
	end
	print("{\n" .. table.concat(_, "\n") .. "\n}")
end

do -- Decide what to do
	if args.restow then
		Stower.Delete(args)
		Stower.Stow(args)
	elseif args.delete then
		Stower.Delete(args)
	else
		Stower.Stow(args)
	end
	log.trace("Thank you for using Luastow!")
end